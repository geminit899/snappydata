hydra.Prms-testRequirement = "Test to verify deploy package feature using user provided local cache path";
hydra.Prms-testDescription = "This is a good test case.
                             This test starts the snappy cluster in embedded mode.Select the third part connector to deploy (Ex. spark-avro connector).
                             Deploy the few packages, list the packages and if all the packages deployed successfully, undeployed all the packages.
                             Test verifies deploy package, list packages and undeploy jar command";

INCLUDE $JTESTS/io/snappydata/hydra/northwind/startDualModeCluster.conf;

INITTASK    taskClass   = util.StopStartVMs  taskMethod = StopStart_initTask
            threadGroups = snappyThreads, locatorThreads, snappyStoreThreads, leadThreads;

INITTASK    taskClass   = io.snappydata.hydra.cluster.SnappyTest taskMethod  = backUpLeadConfigData
            threadGroups = snappyThreads;

TASK       taskClass = io.snappydata.hydra.deployPackageJar.DeployPkgDeployJar taskMethod = HydraTask_deployPkgAndKillLeadNode
           io.snappydata.hydra.cluster.SnappyPrms-jobClassNames = io.snappydata.hydra.deployPackageJar.DeployPkgXMLJob
           io.snappydata.hydra.cluster.SnappyPrms-appPropsForJobServer = "xmlFileLocation=${xmlFileLocation}"
           io.snappydata.hydra.cluster.SnappyPrms-userAppName = "xmlProcessing"
           io.snappydata.hydra.cluster.SnappyPrms-userAppJar = snappydata-store-scala-tests*tests.jar
           io.snappydata.hydra.cluster.SnappyPrms-isDeployPkg = true
           io.snappydata.hydra.cluster.SnappyPrms-jarIdentifier = "com.databricks:spark-xml_2.11:0.4.1"
           maxThreads = 1
           maxTimesToRun = 1
           threadGroups = snappyStoreThreads;
CLOSETASK  taskClass   = io.snappydata.hydra.cluster.SnappyTest taskMethod  = restoreLeadConfigData
           threadGroups = snappyThreads;

io.snappydata.hydra.cluster.SnappyPrms-waitTimeBeforeNextCycleVM = 120; //how long to wait before
//nodes will be cycled.
io.snappydata.hydra.cluster.SnappyPrms-cycleVms = true;

util.StopStartPrms-stopModes = NICE_KILL;
util.StopStartPrms-numVMsToStop = 1;

INCLUDE $JTESTS/io/snappydata/hydra/northwind/stopDualModeCluster.conf;


