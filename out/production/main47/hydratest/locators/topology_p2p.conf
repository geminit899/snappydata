include $JTESTS/hydraconfig/hydraparams1.inc;
include $JTESTS/hydraconfig/topology_p2p.inc;

hydra.Prms-testDescription = "Create and start hydra-master-managed locators.";

THREADGROUP peer
    totalThreads = fcn ${peerHosts} * ${peerVMsPerHost}
                                    * ${peerThreadsPerVM} ncf
    clientNames  = fcn "hydra.TestConfigFcns.generateNames
                        (\"client\", ${peerHosts}, true)"
                   ncf;

hydratest.locators.LocatorPrms-expectedMembers =
  fcn
    ${peerHosts} * ${peerVMsPerHost}
  ncf;

INITTASK  taskClass = hydratest.locators.LocatorClient
          taskMethod = connectTask
          threadGroups = peer
          ;
INITTASK  taskClass = hydratest.locators.LocatorClient
          taskMethod = openCacheTask
          threadGroups = peer
          ;
CLOSETASK taskClass = hydratest.locators.LocatorClient
          taskMethod = validateExpectedMembersTask
          threadGroups = peer
          ;
CLOSETASK taskClass = hydratest.locators.LocatorClient
          taskMethod = closeCacheTask
          threadGroups = peer
          ;

hydra.ConfigPrms-cacheConfig  = cache;
hydra.CachePrms-names         = cache;
hydra.ConfigPrms-regionConfig = region;
hydra.RegionPrms-names        = region;

hydra.VmPrms-extraVMArgs = -Xmx68m;
